@model ToyotaArchiv.Domain.ZakazkaZO
@using ToyotaArchiv.Infrastructure
@{
    ViewData["Title"] = "Detaily zákazky";
}

@*
    ZakazkyJQ:Details.cshtml222
    Tu sa pride z Index.cshtml po kliku na link ZakazkaTG,  ak  rola prihlaseneho  je READONLY;
   
*@

<style>
   /*  table, th,td {
        border: 1px solid black;
        border-collapse: collapse;
    }*/

   
/*.detailTable1, .detailTable1 TD, .detailTable1 TH */
table, table TD, table TH
{
    font-family:sans-serif;
    font-size:13pt;
    color:black;
   /* background-color:#BBDEFB;*/
   background-color:white;
}
</style>

<div class="container">
    <div class="d-flex p-2 justify-content-center">
        <h6>Prehľad údajov pre garančnú opravu: @Model.ZakazkaTg</h6>
        @*<h6><a asp-action="Index" class="btn  btn-primary" style="margin-left:50px;" >Návrat</a></h6>*@
        <a asp-action="Index" class="btn  btn-light" style="margin-left:50px;" >Návrat</a>
    </div>
    <hr />

    <div style="width:90%; margin:0 auto;">
        @* Udaje o zakazke*@
        <table class="detailTable1"  width="100%" cellspacing="5" cellpadding="10">
           @*ZakazkaTGdokument*@
            <tr>
                  @*ZakazkaTg 8 znakov*@
                <td width="150px" align="right">@Html.DisplayNameFor(m=>m.ZakazkaTg)</td>
                <td width="250px">@Html.DisplayFor(m=>m.ZakazkaTg)</td>
                 @*Subor link pre zakazkaTG*@
                <td width="300px" colspan="2">
                       @Html.ActionLink(@Model.ZakazkaTGdokument.NazovSuboru ?? "", "ShowImage", "ZakazkyJQ",
                            new{ zakazkaTG=@Model.ZakazkaTg.Trim(), subor=@Model.ZakazkaTGdokument?.NazovSuboru?.Trim(), skupina=@Model.ZakazkaTGdokument?.Skupina} )
                </td>
                <td></td>
            </tr>
            @*ZakazkaTBdokument*@
            <tr>
                 @*ZakazkaTb 8 znakov*@
                <td align="right">@Html.DisplayNameFor(m=>m.ZakazkaTb)</td>
                <td>@Html.DisplayFor(m=>m.ZakazkaTb)</td>
                 
                @*Subor link pre zakazkaTB*@
                <td colspan="2">
                        @Html.ActionLink(@Model?.ZakazkaTBdokument?.NazovSuboru ?? "", "ShowImage", "ZakazkyJQ",
                            new{ zakazkaTG=@Model?.ZakazkaTg?.Trim(), subor=@Model.ZakazkaTBdokument?.NazovSuboru?.Trim(), skupina=@Model.ZakazkaTBdokument?.Skupina} )
                </td>
                <td></td>
            </tr>
            <tr>
                <td align="right">@Html.DisplayNameFor(m=>m.Ukoncena)</td>
                <td>@Html.DisplayFor(m=>m.Ukoncena)</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td align="right">@Html.DisplayNameFor(m=>m.Vin)</td>
                <td>@Html.DisplayFor(m=>m.Vin)</td>
                @*<td align="right">@Html.DisplayNameFor(m=>m.Cws)</td>
                <td>@Html.DisplayFor(m=>m.Cws)</td>*@
                @*CWS*@
                <td colspan="2">
                    <table>
                        <tr>
                            <td align="left" width="60px">@Html.DisplayNameFor(m=>m.Cws)</td>
                            <td >@Html.DisplayFor(m=>m.Cws, new { @style="margin-left:10px;"})</td>
                        </tr>
                    </table>
                </td>
                <td></td>
            </tr>
            <tr>
                <td align="right">@Html.DisplayNameFor(m=>m.CisloProtokolu)</td>
                <td>@Html.DisplayFor(m=>m.CisloProtokolu)</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td align="right">@Html.DisplayNameFor(m=>m.Poznamka)</td>
                <td colspan="4">@Html.DisplayFor(m=>m.Poznamka)</td>
            </tr>
        </table>

        @*

        <thead class="tableHeaderColor">
                    <tr>
                        <th width="20%">Dokumen@</th>
                        <th width="40%">Súbor</th>
                        <th>Poznámka</th>
                    </tr>
                </thead>

        *@

      @*  <span>Povinné dokumenty</span>*@
         <span class="text-primary ml-1 h6-responsive">Povinné dokumenty</span>
        @*class="table table-striped table-bordered dt-responsive nowrap"*@
        @if (Model.PovinneDokumenty != null)
        {
            <table id="datatablePD" width="100%" cellspacing="5" cellpadding="10">
                <tbody>

                    @for( int i=0; i < Model.PovinneDokumenty.Count; i++)
                    {
                        <tr >
                            @* @Html.HiddenFor(x => Model.PovinneDokumenty[i].Skupina)*@
                            @*NazovDokumentu*@
                            <td width="300px">
                                @Html.DisplayFor(x => Model.PovinneDokumenty[i].NazovDokumentu)
                            </td>
                             @*Poznamka*@
                             <td width="400px">
                                @Html.DisplayFor(x => Model.PovinneDokumenty[i].Poznamka)
                            </td>
                            @*Link pre vybraty subor*@
                             <td  width="500px">
                             @Html.ActionLink(@Model?.PovinneDokumenty[i].NazovSuboru ?? "", "ShowImage", "ZakazkyJQ",
                                             new{ zakazkaTG=@Model?.ZakazkaTg?.Trim(), subor=@Model?.PovinneDokumenty[i].NazovSuboru?.Trim(), skupina=@Model?.PovinneDokumenty[i]?.Skupina} )
                           </td>
                           
                        </tr>
                    }
                </tbody>
            </table>

        }
        @*<span>Prílohy</span>*@
         <span class="text-primary ml-1 h6-responsive">Prílohy</span>
        @*table-bordered  rows maju border, table-striped susedne riadky maju roznu farbu, biela-siva  *@
        @if (Model.Prilohy != null)
        {
            <table id="datatablePrilohy"   width="100%" cellspacing="5" cellpadding="10">
                <tbody>
                     @for( int i=0; i < Model.Prilohy.Count; i++)
                    {
                        <tr>
                            @* @Html.HiddenFor(x => Model.PovinneDokumenty[i].Skupina)*@
                             @*NazovDokumentu*@
                            <td  width="300px">
                                @Html.DisplayFor(x => Model.Prilohy[i].NazovDokumentu)
                            </td>
                            @*Poznamka*@
                             <td width="400px">
                                @Html.DisplayFor(x => Model.Prilohy[i].Poznamka)
                            </td>

                            @*Link pre vybraty subor*@
                             <td  width="500px">
                             @Html.ActionLink(@Model?.Prilohy[i].NazovSuboru ?? "", "ShowImage", "ZakazkyJQ",
                                             new{ zakazkaTG=@Model?.ZakazkaTg?.Trim(), subor=@Model?.Prilohy[i].NazovSuboru?.Trim(), skupina=@Model?.Prilohy[i]?.Skupina} )
                           </td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </div>
    @*<div>
        <a asp-action="Index">Návrat</a>
    </div>*@
</div>


